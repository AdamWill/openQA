#!/usr/bin/env perl

# Copyright (C) 2014 SUSE Linux Products GmbH
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along
# with this program; if not, write to the Free Software Foundation, Inc.,
# 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

BEGIN { unshift @INC, 'lib', 'lib/OpenQA/modules'; }

use strict;
use warnings;
use Data::Dump qw/pp dd/;
use openqa::distri::opensuse qw(generate_jobs);
use OpenQA::Test::Database;

use Test::More;


OpenQA::Test::Database->new->create(skip_fixtures => 0);


my @testdata = (
    {
        iso => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
        params => {
	    'RAID0' => {
		ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                INSTALLONLY => 1,
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 50,
		QEMUCPU     => "qemu64",
                RAIDLEVEL   => 0,
                TEST        => 'RAID0',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            'RAID1' => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                INSTALLONLY => 1,
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 51,
		QEMUCPU     => "qemu64",
                RAIDLEVEL   => 1,
                TEST        => 'RAID1',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            'RAID10' => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                INSTALLONLY => 1,
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 51,
		QEMUCPU     => "qemu64",
                RAIDLEVEL   => 10,
                TEST        => 'RAID10',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            'RAID5' => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                INSTALLONLY => 1,
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 51,
		QEMUCPU     => "qemu64",
                RAIDLEVEL   => 5,
                TEST        => 'RAID5',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            "btrfscryptlvm" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                BTRFS       => 1,
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                ENCRYPT     => 1,
                FLAVOR      => "DVD",
                HDDSIZEGB   => 20,
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                LVM         => 1,
                NICEVIDEO   => 1,
                PRIO        => 50,
		QEMUCPU     => "qemu64",
                TEST        => 'btrfscryptlvm',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            "cryptlvm" => {
                ARCH               => 'x86_64',
                BUILD              => '0725',
                DESKTOP            => "kde",
                DISTRI             => "opensuse",
                DVD                => 1,
                ENCRYPT            => 1,
                FLAVOR             => "DVD",
                ISO                => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE        => '4700372992',
                LVM                => 1,
                NICEVIDEO          => 1,
                PRIO               => 50,
		QEMUCPU            => "qemu64",
                REBOOTAFTERINSTALL => 0,
                TEST               => 'cryptlvm',
                MACHINE     => '64bit',
                VERSION            => "Factory",
            },
            "doc" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DOCRUN      => 1,
                DVD         => 1,
                FLAVOR      => "DVD",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 60,
		QEMUCPU     => "qemu64",
                QEMUVGA     => "std",
                TEST        => 'doc',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            "dual_windows8" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DUALBOOT    => 1,
                DVD         => 1,
                FLAVOR      => "DVD",
                HDD_1       => "Windows-8.hda",
                HDDMODEL    => "ide-hd",
                HDDVERSION  => "Windows 8",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                NUMDISKS    => 1,
                PRIO        => 50,
		QEMUCPU     => "qemu64",
                TEST        => 'dual_windows8',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            "gnome" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "gnome",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 45,
		QEMUCPU     => "qemu64",
                TEST        => 'gnome',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            "gnome+btrfs" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                BTRFS       => 1,
                DESKTOP     => "gnome",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                HDDSIZEGB   => 20,
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                LVM         => 1,
                PRIO        => 50,
		QEMUCPU     => "qemu64",
                TEST        => 'gnome+btrfs',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            "gnome+laptop" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "gnome",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                LAPTOP      => 1,
                PRIO        => 45,
		QEMUCPU     => "qemu64",
                TEST        => 'gnome',
                MACHINE     => 'Laptop_64',
                VERSION     => "Factory",
            },
            "kde" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 40,
		QEMUCPU     => "qemu64",
                TEST        => 'kde',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            "kde+btrfs" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                BTRFS       => 1,
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                HDDSIZEGB   => 20,
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 50,
		QEMUCPU     => "qemu64",
                TEST        => 'kde+btrfs',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            "kde+laptop" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                LAPTOP      => 1,
                PRIO        => 40,
		QEMUCPU     => "qemu64",
                TEST        => 'kde',
                MACHINE     => 'Laptop_64',
                VERSION     => "Factory",
            },
            "kde+usb" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 40,
		QEMUCPU     => "qemu64",
                TEST        => 'kde',
                MACHINE     => 'USBboot_64',
                USBBOOT     => 1,
                VERSION     => "Factory",
            },
            "lxde" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "lxde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                LVM         => 1,
                PRIO        => 49,
		QEMUCPU     => "qemu64",
                TEST        => 'lxde',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            "minimalx" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "minimalx",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 45,
		QEMUCPU     => "qemu64",
                TEST        => 'minimalx',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            "minimalx+btrfs" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                BTRFS       => 1,
                DESKTOP     => "minimalx",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                HDDSIZEGB   => 20,
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 50,
		QEMUCPU     => "qemu64",
                TEST        => 'minimalx+btrfs',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            "minimalx+btrfs+nosephome" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                BTRFS       => 1,
                DESKTOP     => "minimalx",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                HDDSIZEGB   => 20,
                INSTALLONLY => 1,
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 50,
		QEMUCPU     => "qemu64",
                TEST        => 'minimalx+btrfs+nosephome',
                MACHINE     => '64bit',
                TOGGLEHOME  => 1,
                VERSION     => "Factory",
            },
            "nice" => {
                ARCH               => 'x86_64',
                BUILD              => '0725',
                DESKTOP            => "kde",
                DISTRI             => "opensuse",
                DOCRUN             => 1,
                DVD                => 1,
                FLAVOR             => "DVD",
                ISO                => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE        => '4700372992',
                NICEVIDEO          => 1,
                PRIO               => 50,
		QEMUCPU            => "qemu64",
                REBOOTAFTERINSTALL => 0,
                SCREENSHOTINTERVAL => 0.25,
                TEST               => 'nice',
                MACHINE     => '64bit',
                VERSION            => "Factory",
            },
            "install_only" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                INSTALLONLY => 1,
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 40,
		QEMUCPU     => "qemu64",
                QEMUCPUS    => 4,
		SMP         => 1,
                TEST        => 'install_only',
                MACHINE     => 'smp_64',
                VERSION     => "Factory",
            },
            "splitusr" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                NICEVIDEO   => 1,
                PRIO        => 50,
		QEMUCPU     => "qemu64",
                SPLITUSR    => 1,
                TEST        => 'splitusr',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
            "textmode" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "textmode",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 40,
		QEMUCPU     => "qemu64",
                TEST        => 'textmode',
                MACHINE     => '64bit',
                VERSION     => "Factory",
                VIDEOMODE   => "text",
            },
            "textmode+btrfs" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                BTRFS       => 1,
                DESKTOP     => "textmode",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                HDDSIZEGB   => 20,
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 50,
		QEMUCPU     => "qemu64",
                TEST        => 'textmode+btrfs',
                MACHINE     => '64bit',
                VERSION     => "Factory",
                VIDEOMODE   => "text",
            },
            "uefi" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                INSTALLONLY => 1,
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 45,
                QEMUCPU     => "qemu64",
                TEST        => 'uefi',
                MACHINE     => '64bit',
                UEFI        => 1,
                VERSION     => "Factory",
            },
            "update_121" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                HDD_1       => "openSUSE-12.1-x86_64.hda",
                HDDVERSION  => "openSUSE-12.1",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 50,
		QEMUCPU     => "qemu64",
                TEST        => 'update_121',
                MACHINE     => '64bit',
                UPGRADE     => 1,
                VERSION     => "Factory",
            },
            "update_122" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                HDD_1       => "openSUSE-12.2-x86_64.hda",
                HDDVERSION  => "openSUSE-12.2",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 50,
		QEMUCPU     => "qemu64",
                TEST        => 'update_122',
                MACHINE     => '64bit',
                UPGRADE     => 1,
                VERSION     => "Factory",
            },
            "update_123" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "kde",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                HDD_1       => "openSUSE-12.3-x86_64.hda",
                HDDVERSION  => "openSUSE-12.3",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 50,
		QEMUCPU     => "qemu64",
                TEST        => 'update_123',
                MACHINE     => '64bit',
                UPGRADE     => 1,
                VERSION     => "Factory",
            },
            "xfce" => {
                ARCH        => 'x86_64',
                BUILD       => '0725',
                DESKTOP     => "xfce",
                DISTRI      => "opensuse",
                DVD         => 1,
                FLAVOR      => "DVD",
                ISO         => "openSUSE-Factory-DVD-x86_64-Build0725-Media.iso",
                ISO_MAXSIZE => '4700372992',
                PRIO        => 49,
		QEMUCPU     => "qemu64",
                TEST        => 'xfce',
                MACHINE     => '64bit',
                VERSION     => "Factory",
            },
	},
    },
    # {
    # 	iso => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    #     params => [
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 40,
    # 		RAIDLEVEL   => 0,
    # 		TEST        => 'RAID0',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 41,
    # 		RAIDLEVEL   => 1,
    # 		TEST        => 'RAID1',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 41,
    # 		RAIDLEVEL   => 10,
    # 		TEST        => 'RAID10',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 41,
    # 		RAIDLEVEL   => 5,
    # 		TEST        => 'RAID5',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BTRFS       => 1,
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		ENCRYPT     => 1,
    # 		FLAVOR      => "staging_b",
    # 		HDDSIZEGB   => 20,
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		LVM         => 1,
    # 		NICEVIDEO   => 1,
    # 		PRIO        => 40,
    # 		TEST        => 'btrfscryptlvm',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH               => "x86_64",
    # 		BUILD              => 88.5101,
    # 		DESKTOP            => "kde",
    # 		DISTRI             => "opensuse",
    # 		ENCRYPT            => 1,
    # 		FLAVOR             => "staging_b",
    # 		ISO                => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE        => 737280000,
    # 		LVM                => 1,
    # 		NICEVIDEO          => 1,
    # 		PRIO               => 40,
    # 		REBOOTAFTERINSTALL => 0,
    # 		TEST               => 'cryptlvm',
    # 		MACHINE     => '32bit',
    # 		VERSION            => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DUALBOOT    => 1,
    # 		FLAVOR      => "staging_b",
    # 		HDD_1       => "Windows-8.hda",
    # 		HDDMODEL    => "ide-hd",
    # 		HDDVERSION  => "Windows 8",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		NUMDISKS    => 1,
    # 		PRIO        => 40,
    # 		TEST        => 'dual_windows8',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "gnome",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		LVM         => 1,
    # 		PRIO        => 35,
    # 		TEST        => 'gnome',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BTRFS       => 1,
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "gnome",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		HDDSIZEGB   => 20,
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		LVM         => 1,
    # 		PRIO        => 40,
    # 		TEST        => 'gnome+btrfs',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "gnome",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		LAPTOP      => 1,
    # 		PRIO        => 40,
    # 		TEST        => 'gnome',
    # 		MACHINE     => 'Laptop_32',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 30,
    # 		TEST        => 'kde',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BTRFS       => 1,
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		HDDSIZEGB   => 20,
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 40,
    # 		TEST        => 'kde+btrfs',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		LAPTOP      => 1,
    # 		PRIO        => 40,
    # 		TEST        => 'kde+laptop',
    # 		MACHINE     => 'Laptop_32',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 35,
    # 		TEST        => 'kde',
    # 		MACHINE     => 'USBboot_32',
    # 		USBBOOT     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "lxde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		LVM         => 1,
    # 		PRIO        => 39,
    # 		TEST        => 'lxde',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "minimalx",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 35,
    # 		TEST        => 'minimalx',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BTRFS       => 1,
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "minimalx",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		HDDSIZEGB   => 20,
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 40,
    # 		TEST        => 'minimalx+btrfs',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		NICEVIDEO   => 1,
    # 		PRIO        => 40,
    # 		QEMUCPUS    => 4,
    # 		TEST        => 'smp',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "textmode",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 30,
    # 		TEST        => 'textmode',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 		VIDEOMODE   => "text",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BTRFS       => 1,
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "textmode",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		HDDSIZEGB   => 20,
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 40,
    # 		TEST        => 'textmode+btrfs',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 		VIDEOMODE   => "text",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 35,
    # 		QEMUCPU     => "qemu64",
    # 		TEST        => 'uefi',
    # 		MACHINE     => '32bit',
    # 		UEFI        => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		HDD_1       => "openSUSE-12.1-x86_64.hda",
    # 		HDDVERSION  => "openSUSE-12.1",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 40,
    # 		TEST        => 'update_121',
    # 		MACHINE     => '32bit',
    # 		UPGRADE     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		HDD_1       => "openSUSE-12.2-x86_64.hda",
    # 		HDDVERSION  => "openSUSE-12.2",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 40,
    # 		TEST        => 'update_122',
    # 		MACHINE     => '32bit',
    # 		UPGRADE     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		HDD_1       => "openSUSE-12.3-x86_64.hda",
    # 		HDDVERSION  => "openSUSE-12.3",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 40,
    # 		TEST        => 'update_123',
    # 		MACHINE     => '32bit',
    # 		UPGRADE     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "x86_64",
    # 		BUILD       => 88.5101,
    # 		DESKTOP     => "xfce",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "staging_b",
    # 		ISO         => "openSUSE-Factory-staging_b-x86_64-Build88.5101-Media.iso",
    # 		ISO_MAXSIZE => 737280000,
    # 		PRIO        => 39,
    # 		TEST        => 'xfce',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    ],
    # },
    # {
    # 	iso => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    #     params => [
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		RAIDLEVEL   => 0,
    # 		TEST        => 'RAID0',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 46,
    # 		QEMUCPU     => "qemu32",
    # 		RAIDLEVEL   => 1,
    # 		TEST        => 'RAID1',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 46,
    # 		QEMUCPU     => "qemu32",
    # 		RAIDLEVEL   => 10,
    # 		TEST        => 'RAID10',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 46,
    # 		QEMUCPU     => "qemu32",
    # 		RAIDLEVEL   => 5,
    # 		TEST        => 'RAID5',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BTRFS       => 1,
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		ENCRYPT     => 1,
    # 		FLAVOR      => "DVD",
    # 		HDDSIZEGB   => 20,
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		LVM         => 1,
    # 		NICEVIDEO   => 1,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'btrfscryptlvm',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH               => "i586",
    # 		BUILD              => "0145",
    # 		DESKTOP            => "kde",
    # 		DISTRI             => "opensuse",
    # 		DVD                => 1,
    # 		ENCRYPT            => 1,
    # 		FLAVOR             => "DVD",
    # 		ISO                => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE        => 4700372992,
    # 		LVM                => 1,
    # 		NICEVIDEO          => 1,
    # 		PRIO               => 45,
    # 		QEMUCPU            => "qemu32",
    # 		REBOOTAFTERINSTALL => 0,
    # 		TEST               => 'cryptlvm',
    # 		MACHINE     => '32bit',
    # 		VERSION            => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DUALBOOT    => 1,
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		HDD_1       => "Windows-8.hda",
    # 		HDDMODEL    => "ide-hd",
    # 		HDDVERSION  => "Windows 8",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		NUMDISKS    => 1,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'dual_windows8',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "gnome",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		LVM         => 1,
    # 		PRIO        => 40,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'gnome',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BTRFS       => 1,
    # 		BUILD       => "0145",
    # 		DESKTOP     => "gnome",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		HDDSIZEGB   => 20,
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		LVM         => 1,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'gnome+btrfs',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "gnome",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		LAPTOP      => 1,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'gnome',
    # 		MACHINE     => 'Laptop_32',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 35,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'kde',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BTRFS       => 1,
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		HDDSIZEGB   => 20,
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'kde+btrfs',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		LAPTOP      => 1,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'kde',
    # 		MACHINE     => 'Laptop32',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 40,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'kde',
    # 		MACHINE     => 'USBBoot_32',
    # 		USBBOOT     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "lxde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		LVM         => 1,
    # 		PRIO        => 44,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'lxde',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "minimalx",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 40,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'minimalx',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BTRFS       => 1,
    # 		BUILD       => "0145",
    # 		DESKTOP     => "minimalx",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		HDDSIZEGB   => 20,
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'minimalx+btrfs',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BTRFS       => 1,
    # 		BUILD       => "0145",
    # 		DESKTOP     => "minimalx",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		HDDSIZEGB   => 20,
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'minimalx+btrfs+nosephome',
    # 		MACHINE     => '32bit',
    # 		TOGGLEHOME  => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		NICEVIDEO   => 1,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		QEMUCPUS    => 4,
    # 		TEST        => 'smp',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "textmode",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 35,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'textmode',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 		VIDEOMODE   => "text",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BTRFS       => 1,
    # 		BUILD       => "0145",
    # 		DESKTOP     => "textmode",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		HDDSIZEGB   => 20,
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'textmode+btrfs',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 		VIDEOMODE   => "text",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		HDD_1       => "openSUSE-12.1-x86_64.hda",
    # 		HDDVERSION  => "openSUSE-12.1",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'update_121',
    # 		MACHINE     => '32bit',
    # 		UPGRADE     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		HDD_1       => "openSUSE-12.2-x86_64.hda",
    # 		HDDVERSION  => "openSUSE-12.2",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'update_122',
    # 		MACHINE     => '32bit',
    # 		UPGRADE     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		HDD_1       => "openSUSE-12.3-x86_64.hda",
    # 		HDDVERSION  => "openSUSE-12.3",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'update_123',
    # 		MACHINE     => '32bit',
    # 		UPGRADE     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i586",
    # 		BUILD       => "0145",
    # 		DESKTOP     => "xfce",
    # 		DISTRI      => "opensuse",
    # 		DVD         => 1,
    # 		FLAVOR      => "DVD",
    # 		ISO         => "openSUSE-Factory-DVD-i586-Build0145-Media.iso",
    # 		ISO_MAXSIZE => 4700372992,
    # 		PRIO        => 44,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'xfce',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    ],
    # },
    # {
    # 	iso => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    #     params => [
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		PRIO        => 50,
    # 		QEMUCPU     => "qemu32",
    # 		RAIDLEVEL   => 0,
    # 		TEST        => 'RAID0',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		PRIO        => 51,
    # 		QEMUCPU     => "qemu32",
    # 		RAIDLEVEL   => 1,
    # 		TEST        => 'RAID1',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		PRIO        => 51,
    # 		QEMUCPU     => "qemu32",
    # 		RAIDLEVEL   => 10,
    # 		TEST        => 'RAID10',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		PRIO        => 51,
    # 		QEMUCPU     => "qemu32",
    # 		RAIDLEVEL   => 5,
    # 		TEST        => 'RAID5',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BTRFS       => 1,
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		ENCRYPT     => 1,
    # 		FLAVOR      => "KDE-Live",
    # 		HDDSIZEGB   => 20,
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		LVM         => 1,
    # 		NICEVIDEO   => 1,
    # 		PRIO        => 50,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'btrfscryptlvm',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH               => "i686",
    # 		BUILD              => "0142",
    # 		DESKTOP            => "kde",
    # 		DISTRI             => "opensuse",
    # 		ENCRYPT            => 1,
    # 		FLAVOR             => "KDE-Live",
    # 		ISO                => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE        => 999999999,
    # 		KDE                => 1,
    # 		LIVECD             => 1,
    # 		LVM                => 1,
    # 		NICEVIDEO          => 1,
    # 		PRIO               => 50,
    # 		QEMUCPU            => "qemu32",
    # 		REBOOTAFTERINSTALL => 0,
    # 		TEST               => 'cryptlvm',
    # 		MACHINE     => '32bit',
    # 		VERSION            => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		DUALBOOT    => 1,
    # 		FLAVOR      => "KDE-Live",
    # 		HDD_1       => "Windows-8.hda",
    # 		HDDMODEL    => "ide-hd",
    # 		HDDVERSION  => "Windows 8",
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		NUMDISKS    => 1,
    # 		PRIO        => 50,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'dual_windows8',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		PRIO        => 40,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'kde',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BTRFS       => 1,
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		HDDSIZEGB   => 20,
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		PRIO        => 50,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'kde+btrfs',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LAPTOP      => 1,
    # 		LIVECD      => 1,
    # 		PRIO        => 50,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'kde',
    # 		MACHINE     => 'Laptop_32',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		PRIO        => 45,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'kde',
    # 		MACHINE     => 'USBboot_32',
    # 		USBBOOT     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		LIVETEST    => 1,
    # 		LIVEMACHINE     => '32bit',
    # 		PRIO        => 48,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'kde-live',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		NICEVIDEO   => 1,
    # 		PRIO        => 50,
    # 		QEMUCPU     => "qemu32",
    # 		QEMUCPUS    => 4,
    # 		TEST        => 'smp',
    # 		MACHINE     => '32bit',
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		HDD_1       => "openSUSE-12.1-x86_64.hda",
    # 		HDDVERSION  => "openSUSE-12.1",
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		PRIO        => 50,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'update_121',
    # 		MACHINE     => '32bit',
    # 		UPGRADE     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		HDD_1       => "openSUSE-12.2-x86_64.hda",
    # 		HDDVERSION  => "openSUSE-12.2",
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		PRIO        => 50,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'update_122',
    # 		MACHINE     => '32bit',
    # 		UPGRADE     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		HDD_1       => "openSUSE-12.3-x86_64.hda",
    # 		HDDVERSION  => "openSUSE-12.3",
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		PRIO        => 50,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'update_123',
    # 		MACHINE     => '32bit',
    # 		UPGRADE     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    {
    # 		ARCH        => "i686",
    # 		BUILD       => "0142",
    # 		DESKTOP     => "kde",
    # 		DISTRI      => "opensuse",
    # 		FLAVOR      => "KDE-Live",
    # 		INSTALLONLY => 1,
    # 		ISO         => "openSUSE-Factory-KDE-Live-i686-Build0142-Media.iso",
    # 		ISO_MAXSIZE => 999999999,
    # 		KDE         => 1,
    # 		LIVECD      => 1,
    # 		LIVETEST    => 1,
    # 		LIVEMACHINE     => '32bit',
    # 		PRIO        => 48,
    # 		QEMUCPU     => "qemu32",
    # 		TEST        => 'kde-live',
    # 		MACHINE     => 'USBboot_32',
    # 		USBBOOT     => 1,
    # 		VERSION     => "Factory",
    # 	    },
    # 	    ],
    # },
);

for my $t (@testdata) {
    my $params = openqa::distri::opensuse->generate_jobs({}, iso => $t->{iso});
    if ($t->{params}) {
      SKIP: {
          skip "number of jobs does not match", $#{$t->{params}} unless is(scalar keys $t->{params}, scalar @$params);

	  for my $job (@$params) {
	      my $test_name = $job->{TEST};
	      if (exists $job->{LAPTOP}) {
		  $test_name .= '+laptop';
	      }
	      if (exists $job->{USBBOOT}) {
		  $test_name .= '+usb';
	      }
	      is_deeply($job, $t->{params}->{$test_name});
	  }
        }
    } else {
        ok(!defined $params, $t->{iso});
    }
}

done_testing;
